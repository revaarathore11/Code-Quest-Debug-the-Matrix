<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Level 5 ‚Äî CodeQuest</title>

    <link rel="stylesheet" href="../pages/pages_style/game.css">
</head>
<body>

<div class="samurai-walker"></div>
<div class="stars" id="stars"></div>
<div class="pixel-particles"></div>

<div class="game-container">

    <div id="levelCompleteAnimation"></div>

    <header class="game-header">
        <span id="levelDisplay">Level 5</span>
        <span id="timerDisplay">Time: 60s</span>
        <span id="scoreDisplay">Score: 0</span>
    </header>

    <!-- Level intro overlay -->
    <div id="levelOverlay" class="overlay hidden">
        <h1>Level 5</h1>
        <p>Find all the bugs in the code.</p>
    </div>

    <section id="gameMessage" class="game-message"></section>

    <!-- Question Display -->
    <section id="questionDisplay" class="question-display"></section>

    <main id="gameArea" class="game-area"></main>

    <section class="challenge-box">
        <pre id="codeSnippet" contenteditable="true"></pre>
    </section>

    <!-- Hint System -->
    <section class="hint-section">
        <button id="hintBtn">Hint</button>
        <span id="hintCost" class="hint-cost"></span>
        <span id="hintText" class="hint-text hidden"></span>
    </section>

    <!-- Submit -->
    <section class="challenge-actions">
        <button id="submitAnswerBtn">Submit</button>
    </section>

    <button id="nextLevelBtn" class="hidden">Next Level ‚Üí</button>

    <!-- Main Controls -->
    <section class="game-controls">
        <button id="startGameBtn">Start Game</button>
        <button id="resetGameBtn">Reset Game</button>
        <button id="pauseGameBtn">‚è∏ Pause</button>
        <button id="showAnswerBtn" class="show-answer-btn">Show Answer</button>
        <button id="homeBtn" class="home-btn">üè† Home</button>
    </section>

</div>


<!-- ==========================================================
                     SHOW ANSWER POPUP (FINAL FIXED)
========================================================== -->
<div id="showAnswerPopup" class="popup-overlay hidden">
    <div class="popup-box">
        <h2>Show Answer?</h2>
        <p>This will reveal the full solution and restart the game at Level 1.</p>

        <div class="popup-buttons">
            <button id="confirmShowAnswer" class="confirm-btn">Yes, show answer</button>
            <button id="cancelShowAnswer" class="cancel-btn">Cancel</button>
        </div>

        
    </div>
</div>

 <!-- DONE BUTTON (INSIDE POPUP) -->
<button id="doneShowAnswer" class="done-btn hidden">Done</button>

<div id="pausePopup" class="popup-overlay hidden">
    <div class="popup-box">
        <h2>‚è∏ Game Paused</h2>
        <p>Resume to continue playing.</p>

        <div class="popup-buttons">
            <button id="resumeGameBtn" class="confirm-btn">‚ñ∂ Resume</button>
        </div>
    </div>
</div>

<!-- ==========================================================
                     TIME UP POPUP
========================================================== -->

<div id="timeUpPopup" class="popup-overlay hidden">
    <div class="popup-box">
        <h2>‚è∞ Time's Up!</h2>
        <p>You ran out of time. Try again from Level 1.</p>

        <div class="popup-buttons">
            <button id="timeUpResetBtn" class="confirm-btn">Try Again</button>
        </div>
    </div>
</div>

<!-- ==========================================================
                   LEVEL SUMMARY POPUP
========================================================== -->

<div id="summaryPopup" class="popup-overlay hidden">
    <div class="popup-box summary-box">
        <h2>üéì Level Complete!</h2>
        <div id="summaryContent" class="summary-content"></div>
        <div class="popup-buttons">
            <button id="closeSummaryBtn" class="confirm-btn">Continue</button>
        </div>
    </div>
</div>

<script>
    window.currentLevel = 5;
</script>

<script src="../pages_script/game.js"></script>

</body>
</html>